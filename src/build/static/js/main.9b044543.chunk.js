(window["webpackJsonplink-panel-frontend"]=window["webpackJsonplink-panel-frontend"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},22:function(e,t,a){e.exports=a.p+"static/media/link-logo.218e83d5.png"},25:function(e,t,a){e.exports=a.p+"static/media/back-mountain-night.4df25fb3.jpg"},48:function(e,t,a){e.exports=a(85)},70:function(e,t,a){},81:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),o=a(45),s=a(19),i=a(3),m=a(4),d=a(6),u=a(5),p=a(2),h=a(7),E=a(43),g=a.n(E).a.create({baseURL:"http://localhost:7779"}),f=a(89),b=(a(70),a(16),a(22)),y=a.n(b),v=a(25),N=a.n(v),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={default:"",noLogin:"",loading:"Conectando..."},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/").then((function(t){e.setState({default:t.data})})).catch((function(e){console.log(e)}));var t=document.body;t.style.background="url('".concat(N.a,"') 100% no-repeat"),t.style.backgroundPosition="top center",N.a.includes("kokoye")&&(t.style.backgroundPosition="center")}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("link-alert"),n=new FormData(e.target);g.post("/login",{username:n.get("username"),password:n.get("password")}).then((function(e){if("msg"in e.data)t.setState({noLogin:e.data.msg}),a.style.display="block",setTimeout((function(){a.style.display="none"}),5e3);else{var n=btoa(e.data._id+"_"+e.data.database);window.location.assign("main/".concat(n))}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e;return e=this.state.default?l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"spacement"}),l.a.createElement("img",{src:y.a,alt:"logo"}),l.a.createElement("br",null),l.a.createElement("input",{placeholder:"Digite seu usu\xe1rio",name:"username"}),l.a.createElement("input",{type:"password",placeholder:"Digite sua senha",name:"password"}),l.a.createElement("br",null),l.a.createElement("div",{id:"link-alert",className:"alert alert-light",style:{display:"none"},role:"alert"},this.state.noLogin),l.a.createElement("button",{type:"submit"},"Entrar")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"spacement"}),l.a.createElement("div",{id:"link-alert",className:"alert alert-light",role:"alert"},this.state.loading)),l.a.createElement("div",null,l.a.createElement(f.a,{in:this.state.fadeIn,tag:"div"},l.a.createElement("div",{className:"login-container"},e)))}}]),t}(l.a.Component),k=(a(17),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={noDb:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.substring(6),a=atob(t).split("_");g.post("/main/".concat(a[0]),{id:a[0],database:a[1]}).then((function(t){""!==t.data.msg&&e.setState({noDb:t.data.msg}),""!==t.data.user.database&&localStorage.setItem("db",t.data.user.database),window.location.href="/main/".concat(t.data.user._id,"/dashboard")})).catch((function(e){console.log("Error getting the main:",e)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"carregando info..."),l.a.createElement("br",null),this.state.noDb?this.state.noDb:"s\xf3 mais alguns segundos...")}}]),t}(l.a.Component)),O=a(88),C=a(86),I=a(87),S=a(26),j=a.n(S),D=a(44),B=(a(81),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleLogout=Object(D.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/panel/logout").then((function(e){localStorage.removeItem("db"),localStorage.clear(),window.location.assign("/")})).catch((function(e){console.log("Error returning logout",e)}));case 2:case"end":return e.stop()}}),e)}))),a.userId=window.location.pathname.substring(6,30),a.handleSearch=a.handleSearch.bind(Object(p.a)(a)),a.handleLogout=a.handleLogout.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleSearch",value:function(e){e.preventDefault();for(var t=new FormData(e.target).get("main-search"),a=[],n=document.getElementsByTagName("a"),l=0,r=n.length;l<r;l++)a.push(n[l].href);var c=a.find((function(e){return e.includes(t)}));console.log(t),console.log(a),console.log("el",c)}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},l.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"/main/".concat(this.userId,"/dashboard")},l.a.createElement("img",{src:y.a,alt:"logo",className:"logo"})),l.a.createElement("form",{id:"form-search-files",className:"form-container",onSubmit:this.handleSearch},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"8"},l.a.createElement("input",{className:"form-control form-control-dark",type:"text",placeholder:"Busque op\xe7\xf5es...","aria-label":"Pesquisar",name:"main-search",style:{marginLeft:"-400px",width:"500px",height:"68px"}})),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"search-files",type:"submit",style:{height:"68px",marginTop:"-1px",marginLeft:"-50px",opacity:"0.5"}},l.a.createElement("span",{className:"space-icon"},"Pesquisar"))))),l.a.createElement("ul",{className:"navbar-nav px-3"},l.a.createElement("li",{className:"nav-item text-nowrap"},l.a.createElement("span",{onClick:this.handleLogout,className:"nav-link"},"Sair"))))}}]),t}(n.Component)),x={components:[{id:"1",title:"dashboard",icon:"fa fa-tachometer",component:"dashboard"},{id:"2",title:"posts",icon:"fa fa-file",component:"posts"},{id:"3",title:"categorias",icon:"fa fa-bars",component:"categories"},{id:"4",title:"autores",icon:"fa fa-users",component:"authors"},{id:"99",title:"minha conta",icon:"fa fa-cogs",component:"profile"}]},T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).userId=window.location.pathname.substring(6,30),"5d9261850e850f140454f415"===a.userId&&(x.components.push({id:"7",title:"clients",icon:"fa fa-user",component:"clients"}),x.components.splice(4,1)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"link-sidebar"},l.a.createElement("nav",{className:"col-md-2 d-none d-md-block bg-light sidebar"},l.a.createElement("br",null),l.a.createElement("ul",{className:"nav flex-column sidebar-ul"},x.components.map((function(t){return l.a.createElement("li",{className:"nav-item",key:t.id},l.a.createElement("a",{href:"/main/".concat(e.userId,"/").concat(t.component)},l.a.createElement("span",{className:"nav-link"},l.a.createElement("i",{className:t.icon,"aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},t.title))))})))))}}]),t}(l.a.Component),F=localStorage.getItem("db"),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).timer=null,a.state={posts:[],categories:[],authors:[],isFetching:!0},a.fetchData=a.fetchData.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;F?(this.fetchData(),this.timer=setInterval((function(){return e.fetchData()}),50),setTimeout((function(){clearInterval(e.timer)}),50)):window.location.href="/"}},{key:"fetchData",value:function(){var e=this;g.post("/panel/dashboard",{headers:{"Content-Type":"application/json",Accept:"application/json"},db:F}).then((function(t){e.setState({posts:t.data.posts,categories:t.data.categories,authors:t.data.authors})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),l.a.createElement("h1",null,"Dashboard"),l.a.createElement("br",null),l.a.createElement("div",{className:"panel-body"},l.a.createElement(C.a,null,l.a.createElement("div",{className:"col-md-4 col-lg-4"},l.a.createElement("div",{className:"panel panel-link-before"},l.a.createElement("div",{className:"panel-heading text-center"},l.a.createElement("strong",{className:"panel-title"},"Posts")),l.a.createElement("div",{className:"panel-body"},l.a.createElement("h4",{className:"text-center"},this.state.posts)))),l.a.createElement("div",{className:"col-md-4 col-lg-4"},l.a.createElement("div",{className:"panel panel-link-middle"},l.a.createElement("div",{className:"panel-heading text-center"},l.a.createElement("strong",{className:"panel-title"},"Categorias")),l.a.createElement("div",{className:"panel-body"},l.a.createElement("h4",{className:"text-center"},this.state.categories)))),l.a.createElement("div",{className:"col-md-4 col-lg-4"},l.a.createElement("div",{className:"panel panel-link-after"},l.a.createElement("div",{className:"panel-heading text-center"},l.a.createElement("strong",{className:"panel-title"},"Autores")),l.a.createElement("div",{className:"panel-body"},l.a.createElement("h4",{className:"text-center"},this.state.authors))))))))))}}]),t}(l.a.Component),P=localStorage.getItem("db"),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).userId=window.location.pathname.substring(6,30),a.state={posts:[]},a.fetchData=a.fetchData.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){P?this.fetchData():window.location.href="/"}},{key:"fetchData",value:function(){var e=this;g.post("/panel/posts",{db:P}).then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log("Error getting the posts:",e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"spacement"}),l.a.createElement("h2",null,"Posts"),l.a.createElement("br",null),this.state.posts.msg?l.a.createElement("h1",null,"sem posts :("):l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"T\xedtulo"),l.a.createElement("th",{scope:"col"},"Criado em"),l.a.createElement("th",{scope:"col"},"Atualizado em"),l.a.createElement("th",{scope:"col"},"Status"),l.a.createElement("th",{scope:"col"},"Op\xe7\xf5es"))),l.a.createElement("tbody",null,this.state.posts.map((function(t){return l.a.createElement("tr",{key:t._id},l.a.createElement("th",null,t.title),l.a.createElement("td",null,t.createdAt),l.a.createElement("td",null,t.updatedAt),l.a.createElement("td",null,t.status),l.a.createElement("td",null,l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement("a",{className:"dropdown-item",href:"/main/".concat(e.userId,"/posts/").concat(t._id)},"Editar"),l.a.createElement("div",{className:"dropdown-divider"})))))})))))),l.a.createElement(I.a,{md:"2",style:{borderLeft:"solid 1px #e7e7e7",marginTop:"5em"}},l.a.createElement("div",{style:{position:"fixed"}},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h5",null,"A\xe7\xf5es")),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"/main/".concat(this.userId,"/post/new"),className:"badge badge-success lg-txt"},l.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Adicionar post"))),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"google.com",className:"badge badge-light lg-txt"},l.a.createElement("i",{className:"fa fa-print","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Exportar registros")))))))))}}]),t}(l.a.Component),q=a(20),L=a.n(q),M=localStorage.getItem("db"),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={categories:[],status:"",title:"",brief:"",category:"",content:"",return:""},a.fetchData=a.fetchData.bind(Object(p.a)(a)),a.fetchCategories=a.fetchCategories.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.onEditorChange=a.onEditorChange.bind(Object(p.a)(a)),a.Remove=a.Remove.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){M?(this.fetchData(),this.fetchCategories()):window.location.href="/"}},{key:"fetchCategories",value:function(){var e=this;g.post("/panel/categories",{db:M}).then((function(t){e.setState({categories:t.data})})).catch((function(e){console.log(e)}))}},{key:"onEditorChange",value:function(e){this.setState({content:e.editor.getData()})}},{key:"fetchData",value:function(){var e=this,t=window.location.pathname.substring(37,61);g.post("/panel/viewpost",{db:M,postId:t}).then((function(t){e.setState({post:t.data,status:t.data.status,title:t.data.title,brief:t.data.brief,category:t.data.category,content:t.data.content})})).catch((function(e){console.log("Error getting the post:",e)}))}},{key:"handleSubmit",value:function(e){var t=this,a=window.location.pathname.substring(37,61);e.preventDefault();var n=document.getElementById("link-alert"),l=document.getElementById("save-post"),r=document.getElementById("cancel-post"),c=document.getElementById("del-post"),o=document.getElementById("form-post").elements,s=new FormData(e.target);g.post("/panel/post/".concat(a),{db:M,status:s.get("status"),title:s.get("title"),category:s.get("category"),brief:s.get("brief"),content:s.get("content")}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),n.style.display="block",n.setAttribute("class","alert alert-danger"),setTimeout((function(){n.style.display="none"}),5e3);else if(e.data.msg){t.setState({return:e.data.msg}),n.style.display="block",n.setAttribute("class","alert alert-success"),l.style.display="none",c.style.display="none",r.style.display="none";for(var a=0,s=o.length;a<s;++a)o[a].readOnly=!0,o[a].disabled=!0;var i=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=i+"/posts"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"handleModelChange",value:function(e){this.setState({content:e})}},{key:"handleChange",value:function(e){var t=e.target.name;"status"===t?this.setState({status:e.target.value}):"title"===t?this.setState({title:e.target.value}):"category"===t?this.setState({category:e.target.value}):"brief"===t?this.setState({brief:e.target.value}):"content"===t&&this.setState({content:e.target.value})}},{key:"Cancel",value:function(){var e=document.getElementById("save-post"),t=document.getElementById("cancel-post"),a=document.getElementById("del-post"),n=document.getElementById("form-post").elements;e.style.display="none",a.style.display="none",t.style.display="none";for(var l=0,r=n.length;l<r;++l)n[l].readOnly=!0,n[l].disabled=!0;var c=window.location.pathname.substring(0,30);window.location.href=c+"/posts"}},{key:"Remove",value:function(e){var t=this;e.preventDefault();var a=window.location.pathname.substring(37,61),n=document.getElementById("link-alert"),l=document.getElementById("save-post"),r=document.getElementById("cancel-post"),c=document.getElementById("del-post"),o=document.getElementById("form-post").elements;window.confirm("Tem certeza? N\xe3o poder\xe1 ser recuperado...")&&g.post("/panel/post/".concat(a,"/delete"),{db:M,postId:a}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),n.style.display="block",setTimeout((function(){n.style.display="none"}),5e3);else if(e.data.msg){var a=window.location.pathname.substring(0,30);t.setState({return:e.data.msg}),n.style.display="block",n.setAttribute("class","alert alert-success"),l.style.display="none",c.style.display="none",r.style.display="none";for(var s=0,i=o.length;s<i;++s)o[s].readOnly=!0,o[s].disabled=!0;setTimeout((function(){window.location.href=a+"/posts"}),3e3)}})).catch((function(e){console.log("Error getting the post:",e)}))}},{key:"render",value:function(){var e=this.state.post;return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),e?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:"..."),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement("h3",null," editar post > ",l.a.createElement("span",{className:"muted"},'"',e.title,'"')))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{id:"form-post",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-4 col-form-label"},"Status"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("select",{className:"form-control",name:"status",id:"inputStatus",value:this.state.status,required:!0,onChange:this.handleChange},l.a.createElement("option",{value:"0"},"Rascunho"),l.a.createElement("option",{value:"1"},"Publicado"))))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputTitle",className:"col-sm-4 col-form-label"},"T\xedtulo"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control",name:"title",value:this.state.title,onChange:this.handleChange,id:"inputTitle",required:!0,placeholder:"\xc9 o nome principal do post"}))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputCategory",className:"col-sm-4 col-form-label"},"Categoria"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("select",{className:"form-control",name:"category",required:!0,id:"inputCategory",value:this.state.category,onChange:this.handleChange},this.state.categories.map((function(e){return l.a.createElement("option",{key:e.order,value:e._id},e.name)})))))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputBrief",className:"col-sm-4 col-form-label"},"Resumo"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("textarea",{style:{width:"500px"},required:!0,maxLength:"200",name:"brief",id:"inputBrief",rows:"6",defaultValue:this.state.brief}))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"12"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputContent",className:"col-sm-4 col-form-label"},"Conte\xfado"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement(L.a,{data:this.state.content,onChange:this.onEditorChange,onBeforeLoad:function(e){return e.disableAutoInline=!0}}),l.a.createElement("input",{type:"hidden",name:"content",id:"inputContent",value:this.state.content}))))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"cancel-post",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"N\xe3o salvar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"del-post",className:"del",onClick:this.Remove},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Remover post"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-post",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es")))))):l.a.createElement("h3",null,"carregando...")))))}}]),t}(l.a.Component);L.a.editorUrl="https://cdn.ckeditor.com/4.13.0/full/ckeditor.js";var z=localStorage.getItem("db"),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={categories:[],status:"",title:"",brief:"",category:"",content:"",return:"",update:!1},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.onEditorChange=a.onEditorChange.bind(Object(p.a)(a)),a.fetchCategories=a.fetchCategories.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){z?this.fetchCategories():window.location.href="/"}},{key:"fetchCategories",value:function(){var e=this;g.post("/panel/categories",{db:z}).then((function(t){e.setState({categories:t.data})})).catch((function(e){console.log(e)}))}},{key:"onEditorChange",value:function(e){this.setState({content:e.editor.getData()})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("link-alert"),n=document.getElementById("save-post"),l=document.getElementById("cancel-post"),r=document.getElementById("form-add-post").elements,c=new FormData(e.target);g.post("/panel/post/new",{db:z,status:c.get("status"),title:c.get("title"),category:c.get("category"),brief:c.get("brief"),content:c.get("content")}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),a.style.display="block",a.setAttribute("class","alert alert-danger"),setTimeout((function(){a.style.display="none"}),5e3);else if(e.data.msg){t.setState({update:!0}),t.setState({return:e.data.msg}),a.style.display="block",a.setAttribute("class","alert alert-success"),n.style.display="none",l.style.display="none";for(var c=0,o=r.length;c<o;++c)r[c].readOnly=!0,r[c].disabled=!0;var s=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=s+"/posts"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target.name;"status"===t?this.setState({status:e.target.value}):"title"===t?this.setState({title:e.target.value}):"category"===t?this.setState({category:e.target.value}):"brief"===t?this.setState({brief:e.target.value}):"content"===t&&this.setState({content:e.target.value})}},{key:"Cancel",value:function(){var e=document.getElementById("save-post"),t=document.getElementById("cancel-post"),a=document.getElementById("form-add-post").elements;e.style.display="none",t.style.display="none";for(var n=0,l=a.length;n<l;++n)a[n].readOnly=!0,a[n].disabled=!0;var r=window.location.pathname.substring(0,30);window.location.href=r+"/posts"}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:""),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement("h3",null," novo post "))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{id:"form-add-post",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputStatus",className:"col-sm-4 col-form-label"},"Status"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("select",{className:"form-control",required:!0,name:"status",id:"inputStatus"},l.a.createElement("option",{value:"0"},"Rascunho"),l.a.createElement("option",{value:"1"},"Publicado"))))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputTitle",className:"col-sm-4 col-form-label"},"T\xedtulo"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"title",id:"inputTitle",placeholder:"\xc9 o nome principal do post"}))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputCategory",className:"col-sm-4 col-form-label"},"Categoria"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("select",{className:"form-control",required:!0,name:"category",id:"inputCategory"},this.state.categories.map((function(e){return l.a.createElement("option",{key:e.order,value:e._id},e.name)})))))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputBrief",className:"col-sm-4 col-form-label"},"Resumo"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("textarea",{style:{width:"500px"},required:!0,maxLength:"200",name:"brief",id:"inputBrief",rows:"6"}))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"12"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputContent",className:"col-sm-4 col-form-label"},"Conte\xfado"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement(L.a,{onChange:this.onEditorChange,onBeforeLoad:function(e){return e.disableAutoInline=!0}}),l.a.createElement("input",{type:"hidden",name:"content",id:"inputContent",value:this.state.content}))))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"7"},l.a.createElement("button",{id:"cancel-post",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"N\xe3o salvar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-post",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es"))))))))))}}]),t}(l.a.Component),J=localStorage.getItem("db"),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).userId=window.location.pathname.substring(6,30),a.state={categories:[]},a.fetchData=a.fetchData.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){J?this.fetchData():window.location.href="/"}},{key:"fetchData",value:function(){var e=this;g.post("/panel/categories",{db:J}).then((function(t){e.setState({categories:t.data})})).catch((function(e){console.log("Error getting the categoriess:",e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"spacement"}),l.a.createElement("h2",null,"Categorias"),l.a.createElement("br",null),this.state.categories.msg?l.a.createElement("h1",null,"sem categorias :("):l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Ordem"),l.a.createElement("th",{scope:"col"},"Nome"),l.a.createElement("th",{scope:"col"},"Criado em"),l.a.createElement("th",{scope:"col"},"Atualizado em"),l.a.createElement("th",{scope:"col"},"Op\xe7\xf5es"))),l.a.createElement("tbody",null,this.state.categories.map((function(t){return l.a.createElement("tr",{key:t._id},l.a.createElement("th",null,t.order),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.createdAt),l.a.createElement("td",null,t.updatedAt),l.a.createElement("td",null,l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement("a",{className:"dropdown-item",href:"/main/".concat(e.userId,"/categories/").concat(t._id)},"Editar"),l.a.createElement("div",{className:"dropdown-divider"})))))})))))),l.a.createElement(I.a,{md:"2",style:{borderLeft:"solid 1px #e7e7e7",marginTop:"5em"}},l.a.createElement("div",{style:{position:"fixed"}},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h5",null,"A\xe7\xf5es")),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"/main/".concat(this.userId,"/category/new"),className:"badge badge-success lg-txt"},l.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Adicionar categoria"))),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"google.com",className:"badge badge-light lg-txt"},l.a.createElement("i",{className:"fa fa-print","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Exportar registros")))))))))}}]),t}(l.a.Component),W=localStorage.getItem("db"),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={category:"",order:"",title:"",return:""},a.fetchData=a.fetchData.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.Remove=a.Remove.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){W?this.fetchData():window.location.href="/"}},{key:"fetchData",value:function(){var e=this,t=window.location.pathname.substring(42,66);g.post("/panel/viewcategory",{db:W,categoryId:t}).then((function(t){e.setState({category:t.data,order:t.data.order,title:t.data.name})})).catch((function(e){console.log("Error getting the category:",e)}))}},{key:"handleSubmit",value:function(e){var t=this,a=window.location.pathname.substring(42,66);e.preventDefault();var n=document.getElementById("link-alert"),l=document.getElementById("save-category"),r=document.getElementById("cancel-category"),c=document.getElementById("del-category"),o=document.getElementById("form-category").elements,s=new FormData(e.target);g.post("/panel/categories/".concat(a),{db:W,order:s.get("order"),name:s.get("title")}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),n.style.display="block",n.setAttribute("class","alert alert-danger"),setTimeout((function(){n.style.display="none"}),5e3);else if(e.data.msg){t.setState({return:e.data.msg}),n.style.display="block",n.setAttribute("class","alert alert-success"),l.style.display="none",c.style.display="none",r.style.display="none";for(var a=0,s=o.length;a<s;++a)o[a].readOnly=!0,o[a].disabled=!0;var i=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=i+"/categories"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target.name;"order"===t?this.setState({order:e.target.value}):"title"===t&&this.setState({title:e.target.value})}},{key:"Cancel",value:function(){var e=document.getElementById("save-category"),t=document.getElementById("cancel-category"),a=document.getElementById("del-category"),n=document.getElementById("form-category").elements;e.style.display="none",a.style.display="none",t.style.display="none";for(var l=0,r=n.length;l<r;++l)n[l].readOnly=!0,n[l].disabled=!0;var c=window.location.pathname.substring(0,30);window.location.href=c+"/categories"}},{key:"Remove",value:function(e){var t=this;e.preventDefault();var a=window.location.pathname.substring(42,66),n=document.getElementById("link-alert"),l=document.getElementById("save-category"),r=document.getElementById("cancel-category"),c=document.getElementById("del-category"),o=document.getElementById("form-category").elements;window.confirm("Tem certeza? N\xe3o poder\xe1 ser recuperado...")&&g.post("/panel/categories/".concat(a,"/delete"),{db:W,categoryId:a}).then((function(e){if(console.log(e),e.data.error)t.setState({return:e.data.error}),n.style.display="block",setTimeout((function(){n.style.display="none"}),5e3);else if(e.data.msg){var a=window.location.pathname.substring(0,30);t.setState({return:e.data.msg}),n.style.display="block",n.setAttribute("class","alert alert-success"),l.style.display="none",c.style.display="none",r.style.display="none";for(var s=0,i=o.length;s<i;++s)o[s].readOnly=!0,o[s].disabled=!0;setTimeout((function(){window.location.href=a+"/categories"}),3e3)}})).catch((function(e){console.log("Error getting the category:",e)}))}},{key:"render",value:function(){var e=this.state.category;return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),e?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:"..."),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement("h3",null," editar categoria > ",l.a.createElement("span",{className:"muted"},'"',e.name,'"')))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{id:"form-category",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputOrder",className:"col-sm-4 col-form-label"},"Ordem"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"order",id:"inputOrder",value:this.state.order,onChange:this.handleChange,placeholder:"Posi\xe7\xe3o"})))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputTitle",className:"col-sm-4 col-form-label"},"T\xedtulo"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"title",value:this.state.title,onChange:this.handleChange,id:"inputTitle",placeholder:"\xc9 o nome da categoria"}))))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"cancel-category",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"N\xe3o salvar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"del-category",className:"del",onClick:this.Remove},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Remover categoria"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-category",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es")))))):l.a.createElement("h3",null,"carregando...")))))}}]),t}(l.a.Component),$=localStorage.getItem("db"),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={return:"",update:!1},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){$||(window.location.href="/")}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("link-alert"),n=document.getElementById("save-category"),l=document.getElementById("cancel-category"),r=document.getElementById("form-add-category").elements,c=new FormData(e.target);g.post("/panel/category/new",{db:$,order:c.get("order"),name:c.get("title")}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),a.style.display="block",a.setAttribute("class","alert alert-danger"),setTimeout((function(){a.style.display="none"}),5e3);else if(e.data.msg){t.setState({update:!0}),t.setState({return:e.data.msg}),a.style.display="block",a.setAttribute("class","alert alert-success"),n.style.display="none",l.style.display="none";for(var c=0,o=r.length;c<o;++c)r[c].readOnly=!0,r[c].disabled=!0;var s=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=s+"/categories"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"Cancel",value:function(){var e=document.getElementById("save-category"),t=document.getElementById("cancel-category"),a=document.getElementById("form-add-category").elements;e.style.display="none",t.style.display="none";for(var n=0,l=a.length;n<l;++n)a[n].readOnly=!0,a[n].disabled=!0;var r=window.location.pathname.substring(0,30);window.location.href=r+"/categories"}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:""),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement("h3",null," nova categoria "))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{id:"form-add-category",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputOrder",className:"col-sm-4 col-form-label"},"Ordem"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"order",id:"inputOrder",placeholder:"Posi\xe7\xe3o"})))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputTitle",className:"col-sm-4 col-form-label"},"T\xedtulo"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"title",id:"inputTitle",placeholder:"\xc9 o nome da categoria"}))))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"7"},l.a.createElement("button",{id:"cancel-category",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"N\xe3o salvar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-category",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es"))))))))))}}]),t}(l.a.Component),K=localStorage.getItem("db"),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).userId=window.location.pathname.substring(6,30),a.state={authors:[],empty:""},a.fetchData=a.fetchData.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){K?this.fetchData():window.location.href="/"}},{key:"fetchData",value:function(){var e=this;g.post("/panel/authors",{db:K}).then((function(t){console.log(t),t.data.error?e.setState({empty:t.data.error}):e.setState({authors:t.data})})).catch((function(e){console.log("Error getting the authors:",e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"spacement"}),l.a.createElement("h2",null,"Autores"),l.a.createElement("br",null),this.state.error?l.a.createElement("h1",null,this.state.error," :("):l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Nome"),l.a.createElement("th",{scope:"col"},"Criado em"),l.a.createElement("th",{scope:"col"},"Atualizado em"),l.a.createElement("th",{scope:"col"},"Op\xe7\xf5es"))),l.a.createElement("tbody",null,this.state.authors.map((function(t){return l.a.createElement("tr",{key:t._id},l.a.createElement("th",null,t.name),l.a.createElement("td",null,t.createdAt),l.a.createElement("td",null,t.updatedAt),l.a.createElement("td",null,l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement("a",{className:"dropdown-item",href:"/main/".concat(e.userId,"/authors/").concat(t._id)},"Editar"),l.a.createElement("div",{className:"dropdown-divider"})))))})))))),l.a.createElement(I.a,{md:"2",style:{borderLeft:"solid 1px #e7e7e7",marginTop:"5em"}},l.a.createElement("div",{style:{position:"fixed"}},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h5",null,"A\xe7\xf5es")),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"/main/".concat(this.userId,"/author/new"),className:"badge badge-success lg-txt"},l.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Adicionar autor"))),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"google.com",className:"badge badge-light lg-txt"},l.a.createElement("i",{className:"fa fa-print","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Exportar registros")))))))))}}]),t}(l.a.Component),X=localStorage.getItem("db"),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={author:"",name:"",description:"",database:"",return:""},a.userId=window.location.pathname.substring(6,30),a.fetchData=a.fetchData.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.Remove=a.Remove.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){X?this.fetchData():window.location.href="/"}},{key:"fetchData",value:function(){var e=this,t=window.location.pathname.substring(39,63);g.post("/panel/viewauthor",{db:X,authorId:t}).then((function(t){e.setState({author:t.data,name:t.data.name,description:t.data.description,database:t.data.database})})).catch((function(e){console.log("Error getting the author:",e)}))}},{key:"handleSubmit",value:function(e){var t=this,a=window.location.pathname.substring(39,63);e.preventDefault();var n=document.getElementById("link-alert"),l=document.getElementById("save-author"),r=document.getElementById("cancel-author"),c=document.getElementById("del-author"),o=document.getElementById("form-author").elements,s=new FormData(e.target);g.post("/panel/authors/".concat(a),{db:X,name:s.get("name"),description:s.get("description"),database:this.state.database}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),n.style.display="block",n.setAttribute("class","alert alert-danger"),setTimeout((function(){n.style.display="none"}),5e3);else if(e.data.msg){t.setState({return:e.data.msg}),n.style.display="block",n.setAttribute("class","alert alert-success"),l.style.display="none",c.style.display="none",r.style.display="none";for(var a=0,s=o.length;a<s;++a)o[a].readOnly=!0,o[a].disabled=!0;var i=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=i+"/authors"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target.name;"name"===t?this.setState({name:e.target.value}):"description"===t&&this.setState({description:e.target.value})}},{key:"Cancel",value:function(){var e=document.getElementById("save-author"),t=document.getElementById("cancel-author"),a=document.getElementById("del-author"),n=document.getElementById("form-author").elements;e.style.display="none",a.style.display="none",t.style.display="none";for(var l=0,r=n.length;l<r;++l)n[l].readOnly=!0,n[l].disabled=!0;var c=window.location.pathname.substring(0,30);window.location.href=c+"/authors"}},{key:"Remove",value:function(e){var t=this;e.preventDefault();var a=window.location.pathname.substring(39,63),n=document.getElementById("link-alert"),l=document.getElementById("save-author"),r=document.getElementById("cancel-author"),c=document.getElementById("del-author"),o=document.getElementById("form-author").elements;window.confirm("Tem certeza? N\xe3o poder\xe1 ser recuperado...")&&g.post("/panel/authors/".concat(a,"/delete"),{db:X,authorId:a}).then((function(e){if(console.log(e),e.data.error)t.setState({return:e.data.error}),n.style.display="block",setTimeout((function(){n.style.display="none"}),5e3);else if(e.data.msg){var a=window.location.pathname.substring(0,30);t.setState({return:e.data.msg}),n.style.display="block",n.setAttribute("class","alert alert-success"),l.style.display="none",c.style.display="none",r.style.display="none";for(var s=0,i=o.length;s<i;++s)o[s].readOnly=!0,o[s].disabled=!0;setTimeout((function(){window.location.href=a+"/authors"}),3e3)}})).catch((function(e){console.log("Error getting the author:",e)}))}},{key:"render",value:function(){var e=this.state.author,t=localStorage.getItem("db");return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),e?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:"..."),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement("h3",null," editar autor > ",l.a.createElement("span",{className:"muted"},'"',e.name,'"')))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{id:"form-author",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputName",className:"col-sm-4 col-form-label"},"Nome"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control",name:"name",id:"inputName",required:!0,value:this.state.name,onChange:this.handleChange,placeholder:"Como o autor se chama"})))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputDescription",className:"col-sm-4 col-form-label"},"Descri\xe7\xe3o"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control",name:"description",value:this.state.description,onChange:this.handleChange,id:"inputDescription",required:!0,placeholder:"Algo pra lembrar dele(a)"}))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputDatabase",className:"col-sm-4 col-form-label"},"Base"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"database",id:"inputDatabase",defaultValue:t}))))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"cancel-author",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"N\xe3o salvar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"del-author",className:"del",onClick:this.Remove},l.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Remover autor"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-author",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es")))))):l.a.createElement("h3",null,"carregando...")))))}}]),t}(l.a.Component),Z=localStorage.getItem("db"),ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={return:"",update:!1},a.userId=window.location.pathname.substring(6,30),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){Z||(window.location.href="/");var e=document.getElementById("inputDatabase");"5d9261850e850f140454f415"!==this.userId&&e.setAttribute("readonly","readonly")}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("link-alert"),n=document.getElementById("save-author"),l=document.getElementById("cancel-author"),r=document.getElementById("form-add-author").elements,c=new FormData(e.target);g.post("/panel/author/new",{db:Z,name:c.get("name"),description:c.get("description"),database:c.get("database"),userId:this.userId}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),a.style.display="block",a.setAttribute("class","alert alert-danger"),setTimeout((function(){a.style.display="none"}),5e3);else if(e.data.msg){t.setState({update:!0}),t.setState({return:e.data.msg}),a.style.display="block",a.setAttribute("class","alert alert-success"),n.style.display="none",l.style.display="none";for(var c=0,o=r.length;c<o;++c)r[c].readOnly=!0,r[c].disabled=!0;var s=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=s+"/authors"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"Cancel",value:function(){var e=document.getElementById("save-author"),t=document.getElementById("cancel-author"),a=document.getElementById("form-add-author").elements;e.style.display="none",t.style.display="none";for(var n=0,l=a.length;n<l;++n)a[n].readOnly=!0,a[n].disabled=!0;var r=window.location.pathname.substring(0,30);window.location.href=r+"/authors"}},{key:"render",value:function(){var e=localStorage.getItem("db");return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:""),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement("h3",null," novo autor "))),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("form",{id:"form-add-author",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"10"},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputName",className:"col-sm-4 col-form-label"},"Nome"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control",name:"name",required:!0,id:"inputName",placeholder:"Como o autor se chama?"})))),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputDescription",className:"col-sm-4 col-form-label"},"Descri\xe7\xe3o"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",className:"form-control",name:"description",required:!0,id:"inputDescription",placeholder:"Algo pra lembrar dele(a)"}))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"4"},l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{htmlFor:"inputDatabase",className:"col-sm-4 col-form-label"},"Base"),l.a.createElement("div",{className:"col-sm-10"},l.a.createElement("input",{type:"text",required:!0,className:"form-control",name:"database",id:"inputDatabase",defaultValue:e}))))))),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"7"},l.a.createElement("button",{id:"cancel-author",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"N\xe3o salvar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-author",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es"))))))))))}}]),t}(l.a.Component),te=localStorage.getItem("db"),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).userId=window.location.pathname.substring(6,30),a.state={profile:[],name:"",username:"",email:"",password:"",domain:"",identity:"",phone:"",plan:"",expires:"",empty:"",return:""},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a.Cancel=a.Cancel.bind(Object(p.a)(a)),a.fetchData=a.fetchData.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){te?this.fetchData():window.location.href="/"}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("link-alert"),n=document.getElementById("save-profile"),l=document.getElementById("cancel-profile"),r=document.getElementById("form-profile").elements,c=new FormData(e.target);g.post("/panel/clients/".concat(this.userId),{db:te,email:c.get("email"),username:c.get("username"),password:c.get("password"),identity:c.get("identity"),phone:c.get("phone")}).then((function(e){if(e.data.error)t.setState({return:e.data.error}),a.style.display="block",a.setAttribute("class","alert alert-danger"),setTimeout((function(){a.style.display="none"}),5e3);else if(e.data.msg){t.setState({return:e.data.msg}),a.style.display="block",a.setAttribute("class","alert alert-success"),n.style.display="none",l.style.display="none";for(var c=0,o=r.length;c<o;++c)r[c].readOnly=!0,r[c].disabled=!0;var s=window.location.pathname.substring(0,30);setTimeout((function(){window.location.href=s+"/dashboard"}),3e3)}})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target.name;"email"===t?this.setState({email:e.target.value}):"username"===t?this.setState({username:e.target.value}):"password"===t?this.setState({password:e.target.value}):"domain"===t?this.setState({domain:e.target.value}):"identity"===t?this.setState({identity:e.target.value}):"phone"===t?this.setState({phone:e.target.value}):"plan"===t?this.setState({plan:e.target.value}):"expires"===t&&this.setState({expires:e.target.value})}},{key:"Cancel",value:function(){var e=document.getElementById("save-profile"),t=document.getElementById("cancel-profile"),a=document.getElementById("form-profile").elements;e.style.display="none",t.style.display="none";for(var n=0,l=a.length;n<l;++n)a[n].readOnly=!0,a[n].disabled=!0;var r=window.location.pathname.substring(0,30);window.location.href=r+"/dashboard"}},{key:"fetchData",value:function(){var e=this,t=this.userId;g.post("/panel/profile",{userId:t}).then((function(t){console.log(t),t.data.error?e.setState({empty:t.data.error}):e.setState({profile:t.data,name:t.data.name,email:t.data.email,username:t.data.username,password:t.data.password,domain:t.data.domain,identity:t.data.identity,phone:t.data.phone,plan:t.data.plan,expires:t.data.expires})})).catch((function(e){console.log("Error getting the profile:",e)}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"8"},l.a.createElement("div",{className:"spacement"}),l.a.createElement("h2",null,"Minha Conta"),l.a.createElement("br",null),this.state.error?l.a.createElement("h1",null,this.state.error," :("):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"link-alert",style:{display:"none"},role:"alert"},this.state.return?this.state.return:"..."),l.a.createElement("div",null,l.a.createElement("div",{className:"capa",style:{padding:"10px",background:"url('https://guilherme.eadplataforma.com/assets/img/default-cover.jpg') center center no-repeat",backgroundSize:"cover"}},l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"12"},l.a.createElement(I.a,{md:{size:"3",offset:"0"}},l.a.createElement("img",{src:this.state.profile.avatar,style:{width:"170px",height:"170px",borderRadius:"50%",verticalAlign:"middle"},className:"img-circle",alt:"Gabriel Santos"}))))),l.a.createElement("br",null),l.a.createElement("h4",null,this.state.profile.name," | Plano ",1===this.state.plan?"Blog Basic":"Site"),l.a.createElement("br",null),l.a.createElement("form",{id:"form-profile",className:"form-container",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",id:"inputEmail",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputEmail"},"Username"),l.a.createElement("input",{type:"text",className:"form-control",id:"inputUsername",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Username"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputPassword"},"Senha"),l.a.createElement("input",{type:"password",className:"form-control",id:"inputPassword",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputDomain"},"Dom\xednio"),l.a.createElement("input",{type:"text",className:"form-control",id:"inputDomain",name:"domain",value:this.state.domain,readOnly:!0})),l.a.createElement("div",{className:"form-group col-md-4"},l.a.createElement("label",{htmlFor:"inputIdentity"},"Identidade"),l.a.createElement("input",{type:"text",className:"form-control",id:"inputIdentity",name:"identity",value:this.state.identity,onChange:this.handleChange,placeholder:"CPF/CNPJ"}))),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputPhone"},"Telefone"),l.a.createElement("input",{type:"text",className:"form-control",id:"inputPhone",name:"phone",value:this.state.phone,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",{htmlFor:"inputPlan"},"Plano"),l.a.createElement("input",{type:"text",className:"form-control",id:"inputPlan",value:this.state.plan,readOnly:!0}))),l.a.createElement("br",null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"8"},l.a.createElement("button",{id:"cancel-profile",className:"cancel",onClick:this.Cancel},l.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Retornar"))),l.a.createElement(I.a,{md:"4"},l.a.createElement("button",{id:"save-profile",type:"submit"},l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Confirmar altera\xe7\xf5es"))))),l.a.createElement("br",null)))),l.a.createElement(I.a,{md:"2",style:{borderLeft:"solid 1px #e7e7e7",marginTop:"5em"}},l.a.createElement("div",{style:{position:"fixed"}},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h5",null,"A\xe7\xf5es")),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{"mp-mode":"dftl",href:"https://www.mercadopago.com.br/checkout/v1/redirect?pref_id=184683014-ef1000c9-6925-42f3-a0de-6dffda966652",name:"MP-payButton",className:"green-tr-m-ov-none"},"Pagamento")),l.a.createElement("li",{className:"list-group-item list-group-item-light"},l.a.createElement("a",{href:"/main/".concat(this.userId,"/changePlan"),className:"badge badge-info lg-txt"},l.a.createElement("i",{className:"fa fa-bookmark","aria-hidden":"true"}),l.a.createElement("span",{className:"space-icon"},"Alterar meu plano")))))))))}}]),t}(l.a.Component),ne=localStorage.getItem("db"),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={clients:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;ne?g.get("/panel/clients").then((function(t){e.setState({clients:t.data})})).catch((function(e){console.log("Error getting the clients:",e)})):window.location.href="/"}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O.a,{fluid:!0},l.a.createElement(B,null),l.a.createElement(C.a,null,l.a.createElement(I.a,{md:"2"},l.a.createElement("div",{className:"spacement"}),l.a.createElement(T,null)),l.a.createElement(I.a,{md:"10"},l.a.createElement("div",{className:"spacement"}),this.state.clients.msg?l.a.createElement("h1",null,"sem clientes :("):l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Dom\xednio"),l.a.createElement("th",{scope:"col"},"Nome"),l.a.createElement("th",{scope:"col"},"Telefone"),l.a.createElement("th",{scope:"col"},"E-mail"),l.a.createElement("th",{scope:"col"},"Plano"),l.a.createElement("th",{scope:"col"},"Ciclo"),l.a.createElement("th",{scope:"col"},"Expira em"),l.a.createElement("th",{scope:"col"},"Status"),l.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),l.a.createElement("tbody",null,this.state.clients.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("th",null,l.a.createElement("a",{href:"http://".concat(e.domain),target:"_blank",rel:"noopener noreferrer"},e.domain)),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.phone),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.plan),l.a.createElement("td",null,e.cicle),l.a.createElement("td",null,e.expires),l.a.createElement("td",null,e.status),l.a.createElement("td",null,l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},l.a.createElement("i",{className:"fa fa-ellipsis-v","aria-hidden":"true"})),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},l.a.createElement("div",{className:"dropdown-divider"})))))})))))))))}}]),t}(l.a.Component);function re(){return l.a.createElement(o.a,null,l.a.createElement(s.a,{path:"/",exact:!0,component:w}),l.a.createElement(s.a,{path:"/main/:userId",exact:!0,component:k}),l.a.createElement(s.a,{path:"/main/:userId/dashboard",exact:!0,component:A}),l.a.createElement(s.a,{path:"/main/:userId/posts",exact:!0,component:R}),l.a.createElement(s.a,{path:"/main/:userId/posts/:postId",component:_}),l.a.createElement(s.a,{path:"/main/:userId/post/new",component:U}),l.a.createElement(s.a,{path:"/main/:userId/categories",component:V}),l.a.createElement(s.a,{path:"/main/:userId/categories/:categoryId",component:G}),l.a.createElement(s.a,{path:"/main/:userId/category/new",component:H}),l.a.createElement(s.a,{path:"/main/:userId/authors",component:Q}),l.a.createElement(s.a,{path:"/main/:userId/authors/:categoryId",component:Y}),l.a.createElement(s.a,{path:"/main/:userId/author/new",component:ee}),l.a.createElement(s.a,{path:"/main/:userId/profile",component:ae}),l.a.createElement(s.a,{path:"/main/:userId/clients",component:le}))}var ce=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.9b044543.chunk.js.map